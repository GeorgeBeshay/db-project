<div class="container">

  <h1>Admin Page</h1>

  <ng-container *ngIf="admin == null; else signedInView">
    <div class="center">
      <h2>Admin Sign In</h2>
      <form [formGroup]="signInForm" (ngSubmit)="signIn()" class="form">
        <div class="form-group">
          <label for="id">ID:</label>
          <input type="number" id="id" formControlName="id" placeholder="Enter your ID" required>
          <div class="error" *ngIf="signInForm.get('id')?.invalid && (signInForm.get('id')?.dirty || signInForm.get('id')?.touched)">
            Please enter a valid ID.
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" id="password" formControlName="password" placeholder="Enter your password" required>
          <div class="error" *ngIf="signInForm.get('password')?.invalid && (signInForm.get('password')?.dirty || signInForm.get('password')?.touched)">
            Please enter a password.
          </div>
        </div>
        <button type="submit" [disabled]="signInForm.invalid">Sign In</button>
      </form>
    </div>
  </ng-container>

  <ng-template #signedInView>
    <div class="content-wrapper">

      <aside class="sidebar">
        <ul><a (click)="selectSection(0)">My Profile</a></ul>
        <ul><a (click)="selectSection(1)">Create Admin</a></ul>
        <ul><a (click)="selectSection(2)">Create Staff</a></ul>
        <ul><a (click)="selectSection(3)">Create Shelter</a></ul>
      </aside>
      <div class="main-content">

        <ng-container *ngIf="selectedSection == 0">
          <p>This is the admin profile sub-page.</p>
        </ng-container>

        <ng-container *ngIf="selectedSection == 1">
          <p>This is the admin creation sub-page.</p>
        </ng-container>

        <ng-container *ngIf="selectedSection == 2">
          <div class="create-staff">
            <h3>Create Staff</h3>
            <form [formGroup]="createStaffForm" (ngSubmit)="createStaff()">
              <div class="form-group">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" formControlName="firstName" placeholder="Enter first name" required>
                <div class="error" *ngIf="createStaffForm.get('firstName')?.invalid && (createStaffForm.get('firstName')?.dirty || createStaffForm.get('firstName')?.touched)">
                  Please Enter a Valid First Name.
                </div>
              </div>
              <div class="form-group">
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" formControlName="lastName" placeholder="Enter last name" required>
                <div class="error" *ngIf="createStaffForm.get('lastName')?.invalid && (createStaffForm.get('lastName')?.dirty || createStaffForm.get('lastName')?.touched)">
                  Please Enter a Valid Last Name.
                </div>
              </div>
              <div class="form-group">
                <label for="role">Role:</label>
                <select id="role" formControlName="role" required>
                  <option value="Manager">Manager</option>
                  <option value="Member">Member</option>
                </select>
              </div>
              <div class="form-group">
                <label for="phone">Phone:</label>
                <input type="text" id="phone" formControlName="phone" placeholder="Enter phone number">
              </div>
              <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" formControlName="email" placeholder="Enter email" required>
                <div class="error" *ngIf="createStaffForm.get('email')?.invalid && (createStaffForm.get('email')?.dirty || createStaffForm.get('email')?.touched)">
                  Please Enter a Valid Email.
                </div>
              </div>
              <div class="form-group">
                <label for="shelterId">Shelter ID:</label>
                <input type="number" id="shelterId" formControlName="shelterId" placeholder="Enter Shelter ID" required>
                <div class="error" *ngIf="createStaffForm.get('shelterId')?.invalid && (createStaffForm.get('shelterId')?.dirty || createStaffForm.get('shelterId')?.touched)">
                  Please Enter a Valid Shelter ID.
                </div>
              </div>
              <div class="form-group">
                <label for="staffPassword">Password:</label>
                <input type="password" id="staffPassword" formControlName="staffPassword" placeholder="Enter password" required>
                <div class="error" *ngIf="createStaffForm.get('staffPassword')?.invalid && (createStaffForm.get('staffPassword')?.dirty || createStaffForm.get('staffPassword')?.touched)">
                  Please Enter a Valid Password (Not less than 4 characters).
                </div>
              </div>
              <button type="submit" [disabled]="createStaffForm.invalid">Create Staff</button>
            </form>
          </div>
        </ng-container>

        <ng-container *ngIf="selectedSection == 3">
          <p>This is the shelter creation sub-page.</p>
        </ng-container>

      </div>

    </div>
  </ng-template>

</div>
